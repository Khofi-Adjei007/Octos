{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>HR Dashboard — Farhat Printing Press</title>

  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.1.0/fonts/remixicon.css" rel="stylesheet">
  <link href="{% static '/css/dashboard.css' %}" rel="stylesheet">
</head>

<body>


<!-- =========================
     GLOBAL HEADER · ENTERPRISE
========================= -->
<header class="app-header">

  <div class="header-inner">

    <!-- LEFT: BRAND -->
    <div class="header-brand">

      <img src="/static/images/farhat-logo-small.png" alt="Farhat Logo">

      <div class="brand-meta">
        <strong>Farhat Printing Press</strong>
        <small>
          Human Resources Dashboard
          {% if request.user.region %}
            · {{ request.user.region }}
          {% endif %}
        </small>
      </div>
    </div>


    <!-- RIGHT: UTILITIES -->
    <div class="header-utilities">

      <!-- ================= Notifications ================= -->
      <div class="notification-wrapper" id="notificationWrapper">

        <button class="notification-bell" type="button" id="notificationBell">
          <i class="ri-notification-3-line"></i>
          <span class="notification-count" style="display:none">0</span>
          <i class="ri-arrow-down-s-line notif-caret" id="notifCaret"></i>
        </button>

        <div class="notification-dropdown" id="notificationDropdown">

          <!-- Pointer arrow -->
          <div class="notif-arrow"></div>

          <div class="notification-header">
            <span>Notifications</span>
            <a href="#" id="markAllReadBtn" class="notif-mark-all">Mark all read</a>
          </div>

          <div class="notification-body" id="notificationBody">
            <!-- Populated by notifications.js -->
          </div>

          <div class="notification-footer">
            <a href="#">View all notifications</a>
          </div>

        </div>

      </div>


      <!-- ================= User Profile ================= -->
      <div class="user-profile" id="userProfile">

        <!-- TEXT -->
        <div class="user-details">
          <div class="user-name">
            {{ request.user.first_name }} {{ request.user.last_name }}
          </div>
          <div class="user-role">
            Regional HR Manager
          </div>
        </div>

        <!-- AVATAR -->
        <div class="avatar">
          {{ request.user.first_name|first }}{{ request.user.last_name|first }}
        </div>

        <!-- CARET -->
        <i class="ri-arrow-down-s-line dropdown-icon"></i>

        <!-- DROPDOWN -->
        <div class="profile-dropdown" id="profileDropdown">
          <div class="dropdown-header">
            Signed in as
            <strong>
              {{ request.user.first_name }} {{ request.user.last_name }}
            </strong>
          </div>

          <div class="dropdown-divider"></div>

          <a href="#">
            <i class="ri-user-line"></i>
            My Profile
          </a>

          <a href="#">
            <i class="ri-settings-3-line"></i>
            Settings
          </a>

          <div class="dropdown-divider"></div>

          <a href="{% url 'employee_logout' %}" class="logout-link">
            <i class="ri-logout-box-r-line"></i>
            Logout
          </a>
        </div>

      </div>

    </div>

  </div>

</header>



<main>

  <!-- =========================
       CONTEXT SWITCHER
  ========================= -->
  <nav class="metric-switch">
    <button class="switch-btn active" data-context="overview">Overview</button>
    <button class="switch-btn" data-context="branches">Branches</button>
    <button class="switch-btn" data-context="employees">Employees</button>
    <button class="switch-btn" data-context="payroll">Payroll</button>
    <button class="switch-btn" data-context="recruitment">Recruitment</button>
  </nav>


  <!-- =========================
       CONTEXT PANELS
  ========================= -->
  <section class="context-container">

    <!-- Overview -->
    <section class="context-panel" data-context="overview">
      {% include 'hr/overview.html' %}
    </section>

    <!-- Branches -->
    <section class="context-panel hidden" data-context="branches">
      {% include 'hr/branches.html' %}
    </section>

    <!-- Employees -->
    <section class="context-panel hidden" data-context="employees">
      {% include 'hr/employees.html' %}
    </section>

    <!-- Payroll -->
    <section class="context-panel hidden" data-context="payroll">
      {% include 'hr/payroll.html' %}
    </section>

    <!-- Recruitment -->
    <section class="context-panel hidden" data-context="recruitment">
      {% include 'hr/recruitment.html' %}
    </section>

  </section>

</main>

<script type="module" src="{% static 'js/hr/hr.js' %}"></script>


</body>
</html>