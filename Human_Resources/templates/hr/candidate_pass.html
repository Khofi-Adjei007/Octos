{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Candidate Review</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% tailwind_css %}
</head>

<body class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100">

<div class="h-1 w-full bg-red-600"></div>

<div class="max-w-7xl mx-auto px-6 pt-3 pb-10">

    <!-- ========================= -->
    <!-- NORMAL SCROLL HEADER AREA -->
    <!-- ========================= -->

    <!-- Back -->
    <a href="/hr/"
       class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-red-600 mb-3">
        ← Back to Recruitment
    </a>

    <!-- Candidate Header -->
    <div class="relative bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-4 overflow-hidden">

        <div class="absolute left-0 top-0 h-full w-1 bg-blue-600"></div>

        <div class="flex justify-between items-start pl-4">

            <div class="space-y-0.5">
                <h1 id="applicant-fullname"
                    class="text-lg font-semibold text-gray-900">
                    Test Candidate
                </h1>

                <p id="applicant-role"
                   class="text-sm text-gray-600">
                    Graphic Designer
                </p>

                <div id="applicant-email" class="text-xs text-gray-500"></div>
            </div>

            <span id="current-stage-badge"
                  class="inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold uppercase bg-blue-100 text-blue-700 border border-blue-200">
                Screening
            </span>

        </div>
    </div>


    <!-- ========================= -->
    <!-- STICKY RIBBON ONLY -->
    <!-- ========================= -->

    <div class="sticky top-0 z-40 backdrop-blur-md bg-white/90 border border-gray-200 rounded-xl shadow-sm mb-6">

        <div class="p-3">

            <div class="flex overflow-hidden rounded-full text-xs font-semibold uppercase tracking-wide">

                <div class="flex-1 text-center py-2 bg-blue-600 text-white">
                    Screening
                </div>

                <div class="flex-1 text-center py-2 bg-amber-100 text-amber-700">
                    Interview
                </div>

                <div class="flex-1 text-center py-2 bg-purple-100 text-purple-700">
                    Final Review
                </div>

                <div class="flex-1 text-center py-2 bg-red-100 text-red-700">
                    Decision
                </div>

                <div class="flex-1 text-center py-2 bg-green-100 text-green-700">
                    Onboarding
                </div>

            </div>

        </div>
    </div>


    <!-- ========================= -->
    <!-- MAIN CONTENT GRID -->
    <!-- ========================= -->

    <div class="grid grid-cols-12 gap-6">

        <!-- LEFT: CV -->
        <div class="col-span-12 lg:col-span-7">

            <div class="rounded-xl p-4 bg-blue-50/60 border border-blue-100 h-[75vh]">

                <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-5 h-full flex flex-col">

                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-sm font-semibold text-gray-800 uppercase tracking-wide">
                            Curriculum Vitae
                        </h2>

                        <span class="text-xs text-blue-600 font-semibold uppercase">
                            Screening Stage
                        </span>
                    </div>

                    <div id="cv-viewer"
     class="flex-1 w-full border border-gray-200 rounded-md bg-white overflow-hidden">
</div>


                </div>

            </div>

        </div>


        <!-- RIGHT: Screening Evaluation -->
        <div class="col-span-12 lg:col-span-5 h-[75vh] overflow-auto">

            {% include "hr/screening_scores.html" %}

        </div>

    </div>

</div>

<!-- ============================= -->
<!-- INTERVIEW SCHEDULING MODAL -->
<!-- ============================= -->

<div id="interview-modal"
     class="fixed inset-0 bg-black/40 backdrop-blur-sm hidden items-center justify-center z-50">

    <div class="bg-white w-full max-w-md rounded-xl shadow-xl border border-gray-200 p-6 relative">

        <!-- Close -->
        <button id="close-interview-modal"
                class="absolute top-3 right-3 text-gray-400 hover:text-gray-600 text-lg">
            ×
        </button>

        <h2 class="text-lg font-semibold text-gray-800 mb-4">
            Schedule Interview
        </h2>

        <div class="space-y-4">

            <!-- Date -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                    Interview Date & Time
                </label>
                <input type="datetime-local"
                       id="interview-date"
                       class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-300 focus:border-blue-500">
            </div>

            <!-- Interviewer -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                    Assign Interviewer
                </label>
                <input type="text"
                       id="interviewer-name"
                       placeholder="Enter interviewer name"
                       class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-300 focus:border-blue-500">
            </div>

        </div>

        <div class="flex justify-end gap-3 mt-6">

            <button id="cancel-interview"
                    class="px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50">
                Cancel
            </button>

            <button id="confirm-interview"
                    class="px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700">
                Confirm & Move to Interview
            </button>

        </div>

    </div>
</div>

<script src="{% static 'js/hr/recruitment/recruitment.detail.js' %}"></script>
</body>
</html>
